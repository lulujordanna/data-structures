<!DOCTYPE html>
<meta charset="utf-8">

<head>
   <link rel="stylesheet" href="./styles.css">
   <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,700&display=swap" rel="stylesheet"> 
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
   <h1 class="header">Learning JS: <span style="font-weight:100;">A Process Blog</span></h1>
   <hr>
   
   <p class="processDescription">This process blog highlights my progression with learning JavaScript this semester in PGDV 5110 - Data Structures. Use the dropdown menu to filter by project</p>
   
   <div class="dropdown">
      <form method="POST" id="project-dropdown">
         <select class="category" id="category" name="category">
           <option name="aa" value="AA Meetings">AA Meetings</option>
           <option name="process" value="Process Blog">Process Blog</option>
           <option name="temperature" value="Temperature Sensor">Temperature Sensor</option>
         </select> 
         <input type="submit" />
      </form>
   </div>
   
   <div id='myEntries'></div>
   
   <script>
      var data = {{{processData}}};
      var category_name = {{{category}}};
      
      var myTable = `<table><tbody>`;

      for (var i=0; i < data.length; i++) {
          myTable += '<tr>';
      	 myTable += '<td class="title-row">' + '<span>' + data[i].title.S + '</span>' + '</td>';
      	 myTable += '</tr>';
      	 
      	 myTable += '<tr>';
      	 myTable += '<td class="category-row">'+ data[i].category.S + '</td>';
      	 myTable += '</tr>';
      	 
      	 myTable += '<tr>';
      	 myTable += '<td class="date-row">' + data[i].date.S + '</td>';
      	 myTable += '</tr>';
      	
      	 myTable += '<tr>';
      	 myTable += '<td class="entry-row">' + data[i].entry.S + '</td>';
      	 myTable += '</tr>';
      	 
      	 if (data[i].photo) { 
      	    myTable += '<tr><td><img src='+data[i].photo.S+'><td></tr>'
      	  //  console.log(data[i].photo.S) 
      	    
      	 }; 
      	 
      	 myTable += '<tr>';
      	 myTable += '<td class="button-row">' + '<a href="'+data[i].url.S+'"><button>Learn more</button></a>' + '</td>';
      	 myTable += '</tr>';
      }
      
      myTable += '</tbody></table>'
      
      $(window).on('load', function() {
        $("#myEntries").html(myTable)
      });
      
      document.getElementById("category").value = category_name;

   </script>
</body>

